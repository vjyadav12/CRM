{"ast":null,"code":"import React,{useEffect,useState}from'react';import{Container,Typography,Table,TableBody,TableCell,TableContainer,TableHead,TableRow,Paper,Chip,Select,MenuItem,FormControl,InputLabel,Grid}from'@mui/material';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const EmployeeDetails=()=>{const[tasks,setTasks]=useState([]);const[users,setUsers]=useState([]);const[selectedUser,setSelectedUser]=useState('');useEffect(()=>{fetchTasks();fetchUsers();},[]);const fetchTasks=async()=>{try{const response=await axios.get('/api/tasks');setTasks(response.data);}catch(error){console.error('Error fetching tasks:',error);}};const fetchUsers=async()=>{try{const response=await axios.get('/api/users');setUsers(response.data);}catch(error){console.error('Error fetching users:',error);}};const filteredTasks=selectedUser?tasks.filter(task=>{var _task$assignedTo;return((_task$assignedTo=task.assignedTo)===null||_task$assignedTo===void 0?void 0:_task$assignedTo._id)===selectedUser;}):tasks;return/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsxs(Grid,{container:true,justifyContent:\"space-between\",alignItems:\"center\",sx:{mb:3},children:[/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsx(Typography,{variant:\"h4\",component:\"h1\",gutterBottom:true,children:\"Employee Task Details\"})}),/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsxs(FormControl,{sx:{minWidth:200},children:[/*#__PURE__*/_jsx(InputLabel,{children:\"Employee\"}),/*#__PURE__*/_jsxs(Select,{value:selectedUser,label:\"Employee\",onChange:e=>setSelectedUser(e.target.value),children:[/*#__PURE__*/_jsx(MenuItem,{value:\"\",children:\"All Employees\"}),users.map(user=>/*#__PURE__*/_jsx(MenuItem,{value:user._id,children:user.name},user._id))]})]})})]}),/*#__PURE__*/_jsx(TableContainer,{component:Paper,children:/*#__PURE__*/_jsxs(Table,{children:[/*#__PURE__*/_jsx(TableHead,{children:/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:\"Employee\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Task\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Status\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Due Date\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Completed On\"})]})}),/*#__PURE__*/_jsx(TableBody,{children:filteredTasks.map(task=>{var _task$assignedTo2;return/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:((_task$assignedTo2=task.assignedTo)===null||_task$assignedTo2===void 0?void 0:_task$assignedTo2.name)||'-'}),/*#__PURE__*/_jsx(TableCell,{children:task.title}),/*#__PURE__*/_jsx(TableCell,{children:/*#__PURE__*/_jsx(Chip,{label:task.status,color:task.status==='Completed'?'success':'primary',size:\"small\"})}),/*#__PURE__*/_jsx(TableCell,{children:task.dueDate?new Date(task.dueDate).toLocaleDateString():'-'}),/*#__PURE__*/_jsx(TableCell,{children:task.status==='Completed'&&task.completedAt?new Date(task.completedAt).toLocaleDateString():'-'})]},task._id);})})]})})]});};export default EmployeeDetails;","map":{"version":3,"names":["React","useEffect","useState","Container","Typography","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Paper","Chip","Select","MenuItem","FormControl","InputLabel","Grid","axios","jsx","_jsx","jsxs","_jsxs","EmployeeDetails","tasks","setTasks","users","setUsers","selectedUser","setSelectedUser","fetchTasks","fetchUsers","response","get","data","error","console","filteredTasks","filter","task","_task$assignedTo","assignedTo","_id","children","container","justifyContent","alignItems","sx","mb","item","variant","component","gutterBottom","minWidth","value","label","onChange","e","target","map","user","name","_task$assignedTo2","title","status","color","size","dueDate","Date","toLocaleDateString","completedAt"],"sources":["C:/Users/bikky/Downloads/crm/crm/frontend/src/pages/EmployeeDetails.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport {\r\n  Container,\r\n  Typography,\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableContainer,\r\n  TableHead,\r\n  TableRow,\r\n  Paper,\r\n  Chip,\r\n  Select,\r\n  MenuItem,\r\n  FormControl,\r\n  InputLabel,\r\n  Grid\r\n} from '@mui/material';\r\nimport axios from 'axios';\r\n\r\nconst EmployeeDetails = () => {\r\n  const [tasks, setTasks] = useState([]);\r\n  const [users, setUsers] = useState([]);\r\n  const [selectedUser, setSelectedUser] = useState('');\r\n\r\n  useEffect(() => {\r\n    fetchTasks();\r\n    fetchUsers();\r\n  }, []);\r\n\r\n  const fetchTasks = async () => {\r\n    try {\r\n      const response = await axios.get('/api/tasks');\r\n      setTasks(response.data);\r\n    } catch (error) {\r\n      console.error('Error fetching tasks:', error);\r\n    }\r\n  };\r\n\r\n  const fetchUsers = async () => {\r\n    try {\r\n      const response = await axios.get('/api/users');\r\n      setUsers(response.data);\r\n    } catch (error) {\r\n      console.error('Error fetching users:', error);\r\n    }\r\n  };\r\n\r\n  const filteredTasks = selectedUser\r\n    ? tasks.filter(task => task.assignedTo?._id === selectedUser)\r\n    : tasks;\r\n\r\n  return (\r\n    <Container>\r\n      <Grid container justifyContent=\"space-between\" alignItems=\"center\" sx={{ mb: 3 }}>\r\n        <Grid item>\r\n          <Typography variant=\"h4\" component=\"h1\" gutterBottom>\r\n            Employee Task Details\r\n          </Typography>\r\n        </Grid>\r\n        <Grid item>\r\n          <FormControl sx={{ minWidth: 200 }}>\r\n            <InputLabel>Employee</InputLabel>\r\n            <Select\r\n              value={selectedUser}\r\n              label=\"Employee\"\r\n              onChange={e => setSelectedUser(e.target.value)}\r\n            >\r\n              <MenuItem value=\"\">All Employees</MenuItem>\r\n              {users.map(user => (\r\n                <MenuItem key={user._id} value={user._id}>\r\n                  {user.name}\r\n                </MenuItem>\r\n              ))}\r\n            </Select>\r\n          </FormControl>\r\n        </Grid>\r\n      </Grid>\r\n      <TableContainer component={Paper}>\r\n        <Table>\r\n          <TableHead>\r\n            <TableRow>\r\n              <TableCell>Employee</TableCell>\r\n              <TableCell>Task</TableCell>\r\n              <TableCell>Status</TableCell>\r\n              <TableCell>Due Date</TableCell>\r\n              <TableCell>Completed On</TableCell>\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            {filteredTasks.map(task => (\r\n              <TableRow key={task._id}>\r\n                <TableCell>{task.assignedTo?.name || '-'}</TableCell>\r\n                <TableCell>{task.title}</TableCell>\r\n                <TableCell>\r\n                  <Chip label={task.status} color={task.status === 'Completed' ? 'success' : 'primary'} size=\"small\" />\r\n                </TableCell>\r\n                <TableCell>{task.dueDate ? new Date(task.dueDate).toLocaleDateString() : '-'}</TableCell>\r\n                <TableCell>{task.status === 'Completed' && task.completedAt ? new Date(task.completedAt).toLocaleDateString() : '-'}</TableCell>\r\n              </TableRow>\r\n            ))}\r\n          </TableBody>\r\n        </Table>\r\n      </TableContainer>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default EmployeeDetails; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}